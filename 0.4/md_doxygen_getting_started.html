<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>tinyusb: Getting Started</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table width="100%" cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">tinyusb
   &#160;<span id="projectnumber">0.4</span> 
   </div>
  </td>
  <td align="right">
    <a href="https://pledgie.com/campaigns/24694"><img border="0" src="https://pledgie.com/campaigns/24694.png?skin_name=chrome" alt="Click here to lend your support to tinyusb donation and make a donation at pledgie.com"></a>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md_doxygen_getting_started.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Getting Started </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>Table of Contents</b></p>
<ul>
<li><a href="#download">Download</a></li>
<li><a href="#add-tinyusb-to-your-project">Add tinyusb to your project</a></li>
</ul>
<h2>Download</h2>
<p>tinyusb uses github as online repository <a href="https://github.com/hathach/tinyusb">https://github.com/hathach/tinyusb</a> since it is the best place for open source project.</p>
<p>If you are using Linux, you already know how to what to do. But If Windows is your OS, I would suggest to install <a href="http://git-scm.com/">git</a> and front-end gui such as <a href="http://code.google.com/p/tortoisegit">tortoisegit</a> to begin with.</p>
<p>After downloading/cloning, the code base is composed of</p>
<table class="doxtable">
<tr>
<th>Folder </th><th>Description  </th></tr>
<tr>
<td>boards </td><td>Source files of supported boards </td></tr>
<tr>
<td>demos </td><td>Source &amp; project files for demonstration application </td></tr>
<tr>
<td>mcu </td><td>Low level mcu core &amp; peripheral drivers (e.g CMSIS ) </td></tr>
<tr>
<td>tests </td><td>Unit tests for the stack </td></tr>
<tr>
<td>tinyusb </td><td>All sources files for tinyusb stack itself. </td></tr>
<tr>
<td>vendor </td><td>Source files from 3rd party such as freeRTOS, fatfs etc ... </td></tr>
</table>
<p><em>demos</em> is the folder where all the application &amp; project files are located. There are demos for both device and hosts. For each, there are different projects for each of supported RTOS. Click to have more information on how to ../demos/readme.md "build" and run ../demos/device/readme.md "device" or ../demos/host/readme.md "host" demo.</p>
<h2>Add tinyusb to your project</h2>
<p>It is relatively simple to incorporate tinyusb to your (existing) project</p>
<ol type="1">
<li>Copy core folder <b>tinyusb</b> to your project. Let's say it is <em>your_project/tinyusb</em></li>
<li>Add all the .c in the core folder to your project settings (uvproj, ewp, makefile)</li>
<li>Add <em>your_project/tinysb</em> to your include path. Also make sure your current include path also contains the configuration file tusb_config.h. Or you could simply put the tusb_config.h into the tinyusb folder as well.</li>
<li>Make sure all required macros are all defined properly in tusb_config.h (configure file in demo application is sufficient, but you need to add a few more such as TUSB_CFG_MCU, TUSB_CFG_OS, TUSB_CFG_OS_TASK_PRIO since they are passed by IDE/compiler to maintain a unique configure for all demo projects).</li>
<li>If you use the device stack, make sure you have created/modified usb descriptors for your own need. Ultimately you need to fill out required pointers in tusbd_descriptor_pointers for that stack to work.</li>
<li>Add <a class="el" href="group__group__application__api.html#gae5e5337c5ac56048ee326db2121f415e" title="Initialize the usb stack. ">tusb_init()</a> call to your reset initialization code.</li>
<li>Implement all enabled classes's callbacks.</li>
<li>If you dont use any RTOSes at all, you need to continuously and/or periodically call <a class="el" href="tusb_8c.html#aa03e39232c87572815dd9b854a95163e" title="Run all tinyusb&#39;s internal tasks (e.g host task, device task). ">tusb_task_runner()</a> function. Most of the callbacks and functionality are handled and invoke within the call of that task runner.</li>
</ol>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">  your_init_code();</div>
<div class="line">  <a class="code" href="group__group__application__api.html#gae5e5337c5ac56048ee326db2121f415e">tusb_init</a>(); <span class="comment">// initialize tinyusb stack</span></div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">while</span>(1) <span class="comment">// the mainloop</span></div>
<div class="line">  {</div>
<div class="line">    your_application_code();</div>
<div class="line"></div>
<div class="line">    <a class="code" href="tusb_8c.html#aa03e39232c87572815dd9b854a95163e">tusb_task_runner</a>(); <span class="comment">// handle tinyusb event, task etc ...</span></div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Apr 17 2014 13:05:27 for tinyusb by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
