<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>tinyusb: Host Demos</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table width="100%" cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">tinyusb
   &#160;<span id="projectnumber">0.4</span> 
   </div>
  </td>
  <td align="right">
    <a href="https://pledgie.com/campaigns/24694"><img border="0" src="https://pledgie.com/campaigns/24694.png?skin_name=chrome" alt="Click here to lend your support to tinyusb donation and make a donation at pledgie.com"></a>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md_demos_host_readme.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Host Demos </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>Table of Contents</b></p>
<ul>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#hub">Hub</a></li>
<li><a href="#human-interface-device-hid">Human Interface Device (HID)</a><ul>
<li><a href="#keyboard">Keyboard</a></li>
<li><a href="#mouse">Mouse</a></li>
</ul>
</li>
<li><a href="#mass-storage-class-device-msc">Mass Storage Class Device (MSC)</a></li>
<li><a href="#communication-class-device-cdc">Communication Class Device (CDC)</a><ul>
<li><a href="#serial">Serial</a></li>
</ul>
</li>
</ul>
<p>host application code is store at <em>demos/host/src</em> containing</p>
<table class="doxtable">
<tr>
<th>File </th><th>Description  </th></tr>
<tr>
<td>main.c </td><td>Initialization (board, stack) and a RTOS task scheduler call or just simple a indefinite loop for non OS to invoke class-specific tasks. </td></tr>
<tr>
<td>tusb_config.h </td><td>tinyusb stack configuration. </td></tr>
<tr>
<td>app_os_prio.h </td><td>RTOS task priority definitions </td></tr>
<tr>
<td>Class-specific </td><td>Application files for supported classes. </td></tr>
</table>
<p>Firstly connect your ansi-escaped supported terminal (see below) to the UART of the evaluation board since all the user interaction happens there. The default UART configure is</p>
<ul>
<li>Baudrate = 115200</li>
<li>Data = 8 bits</li>
<li>Parity = none</li>
<li>Stop = 1 bit</li>
<li>Flow control = none</li>
</ul>
<p>The demo will start with the greeting of enabled classes and chosen RTOS then start to blink an LED at 1 Hz. When any of supported devices is plugged or un-plugged either directly or via a hub, demo application will print out a short message. Notes: if usb device is composed of supported and unsupported classes such as a keyboard and a camera, the keyboard interface is still mounted as usual without any issues.</p>
<p><b>NOTE</b> Host demo is quite power hunger, especially when you plug a hub with several devices on it. Make sure you have enough power before filing any bugs.</p>
<h2>Prerequisites</h2>
<p>In order to run application demo, you would need</p>
<ul>
<li>A ../../boards/readme.md "supported development board".</li>
<li>A supported toolchain: LPCXpresso, Keil, IAR.</li>
<li>A <a href="http://en.wikipedia.org/wiki/ANSI_escape_code">ANSI escape</a> supported terminal such as <a href="http://en.sourceforge.jp/projects/ttssh2/">Tera Term</a> to demonstrate properly.</li>
</ul>
<h2>Hub</h2>
<p>Hub is internally handled by tinyusb stack, application code does not have to worry on how to get hub operated. However, application must be written to handle multiple devices simultaneously.</p>
<h2>Human Interface Device (HID)</h2>
<h3>Keyboard</h3>
<p>When a keyboard device is enumerated, any keys pressed on the device will be echoed to the UART terminal.</p>
<div class="image">
<img src="http://docs.tinyusb.org/images/demo_host_keyboard.png"  alt="Host Keyboard Demo"/>
</div>
<h3>Mouse</h3>
<p>When a mouse device is enumerated, any movements or clicks on the device will be reflected on the terminal. Only make sure the terminal's windows is active on your host OS and it supports ANSI escape code.</p>
<div class="image">
<img src="http://docs.tinyusb.org/images/demo_host_mouse.png"  alt="Host Mouse Demo"/>
</div>
<h2>Mass Storage Class Device (MSC)</h2>
<p>Mass storage demo application only supports device with FAT file system by the help of fatfs (source in <em>vendor/fatfs</em>). In addition, it also includes a minimal command line interface <em>msc_cli.c</em> to allow user to navigate and execute several basic file operations. When mass storage device is plugged, CLI will be activated, type "help" for the usage. Some are</p>
<table class="doxtable">
<tr>
<th>Command </th><th>Description  </th></tr>
<tr>
<td>cls </td><td>clear screen </td></tr>
<tr>
<td>ls </td><td>List information of the FILEs, only supported current directory. </td></tr>
<tr>
<td>cd </td><td>change the current directory. </td></tr>
<tr>
<td>cat </td><td>display contents of a file. </td></tr>
<tr>
<td>cp </td><td>copy files to another location. </td></tr>
<tr>
<td>mkdir </td><td>create a directory, if it does not already exist. </td></tr>
<tr>
<td>mv </td><td>rename or move a directory or a file. </td></tr>
<tr>
<td>rm </td><td>remove (delete) an empty directory or file </td></tr>
</table>
<p>Furthermore, the demo's CLI also supports multiple mass storage devices. You could <em>cd</em> between disk drives, and copy a file from one to another.</p>
<div class="image">
<img src="http://docs.tinyusb.org/images/demo_host_msc.png"  alt="Host MSC Demo"/>
</div>
<h2>Communication Class Device (CDC)</h2>
<p>CDC has several subclass, currently tinyusb only supports the popular <em>Abstract Control Model (ACM)</em></p>
<h3>Serial</h3>
<p>A virtual serial of CDC-ACM is supported, the host demo will echo back any thing it received from the device. So if you use the tinyusb device stack with CDC enabled to test with, you should modify it a bit to constantly send somethings (otherwise 2 demos will wait for each other).</p>
<p>Notes: FTDI is a vendor-specific class, which is not currently supported.</p>
<div class="image">
<img src="http://docs.tinyusb.org/images/demo_host_serial.png"  alt="Host Serial Demo"/>
</div>
 </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="md_doxygen_getting_started.html">Getting Started</a></li><li class="navelem"><a class="el" href="md_doxygen_started_demo.html">Demos</a></li>
    <li class="footer">Generated on Thu Apr 17 2014 13:05:28 for tinyusb by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
